<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Narrative Writing Helper ‚Äì Mystery Story</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background: #e5e7eb;
      margin: 0;
      padding: 20px;
      color: #0f172a;
    }
    .wrap {
      max-width: 1300px;
      margin: 0 auto;
      background: #ffffff;
      padding: 24px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    }
    h1, h2, h3, h4 {
      margin-top: 0;
    }

    /* Header / narrative path */
    .coaster-wrapper {
      margin-bottom: 24px;
    }
    .coaster-title {
      font-size: 1.4em;
      font-weight: 700;
      margin-bottom: 8px;
      text-align: center;
    }
    .coaster-svg {
      display: block;
      width: 100%;
      max-width: 1000px;
      margin: 0 auto;
    }

    /* Planner */
    .planner {
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 24px;
      background: #000000;
      color: #f9fafb;
    }
    .planner h3 {
      margin-bottom: 6px;
    }
    .planner p.info {
      font-size: 0.9em;
      margin-top: 0;
      margin-bottom: 10px;
      color: #e5e7eb;
    }
    .plot-line {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 8px;
    }
    .plot-step {
      flex: 1;
      min-width: 220px;
      background: #e5e7eb;
      border-radius: 14px;
      padding: 10px 12px;
      border: 1px solid #cbd5f5;
      color: #0f172a;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .plot-step-title {
      font-weight: 700;
      font-size: 0.9em;
      margin-bottom: 2px;
    }
    .plot-subquestion {
      margin-bottom: 4px;
    }
    .plot-question-text {
      font-size: 0.85em;
      margin-bottom: 2px;
      color: #374151;
    }
    .plot-subquestion textarea {
      width: 100%;
      border-radius: 8px;
      background: #f9fafb;
      min-height: 40px;
      padding: 6px;
      border: 1px solid #d1d5db;
      font-family: inherit;
      font-size: 0.9em;
      resize: vertical;
      display: block;
    }

    /* Cards */
    .card {
      border: 1px solid #e5e7eb;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 20px;
      background: #ffffff;
    }
    /* Thick coloured outlines for each narrative section */
    .card-intro {
      border-width: 4px;
      border-color: #FACC15;  /* yellow ‚Äì introduction */
    }
    .card-raising {
      border-width: 4px;
      border-color: #F97316;  /* orange ‚Äì raising action */
    }
    .card-climax {
      border-width: 4px;
      border-color: #B91C1C;  /* dark red ‚Äì climax */
    }
    .card-falling {
      border-width: 4px;
      border-color: #22C55E;  /* green ‚Äì falling action */
    }
    .card-resolution {
      border-width: 4px;
      border-color: #3B82F6;  /* blue ‚Äì resolution */
    }

    .card h3 {
      margin-bottom: 4px;
    }
    .card p.subtitle {
      font-size: 0.9em;
      margin-top: 0;
      margin-bottom: 10px;
    }

    .intro-layout {
      display: grid;
      grid-template-columns: 1.1fr 1.4fr 1.5fr;
      gap: 16px;
      align-items: flex-start;
    }
    @media (max-width: 1000px) {
      .intro-layout {
        grid-template-columns: 1fr;
      }
    }

    /* Column 1 ‚Äì Sentence descriptions */
    .sentence-strip {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .sentence-tile {
      border-radius: 6px;
      padding: 6px 8px;
      font-size: 0.85em;
      font-weight: 600;
      border: 1px solid transparent;
    }
    .tile-s1 { background: #FEF9C3; border-color: #FACC15; }
    .tile-s2 { background: #DCFCE7; border-color: #22C55E; }
    .tile-s3 { background: #FCE7F3; border-color: #EC4899; }
    .tile-s4 { background: #E0F2FE; border-color: #38BDF8; }

    /* HAGPLL */
    .hagpll-box {
      border-radius: 8px;
      padding: 10px;
      background: #f8fafc;
      border: 1px solid #e5e7eb;
    }
    .hagpll-text {
      font-size: 1.4em;
      line-height: 1.6;
    }
    .hagpll-s1 { background: #FEF9C3; }
    .hagpll-s2 { background: #DCFCE7; }
    .hagpll-s3 { background: #FCE7F3; }
    .hagpll-s4 { background: #E0F2FE; }

    /* Student input */
    .intro-right label {
      display: block;
      font-weight: 700;
      margin-top: 6px;
      font-size: 0.9em;
    }
    textarea {
      width: 100%;
      padding: 8px;
      border-radius: 6px;
      border: 2px solid #e5e7eb;
      resize: vertical;
      font-family: inherit;
      font-size: 14px;
      min-height: 56px;
    }
    .s1 { background: #FEF9C3; border-color: #FACC15; }
    .s2 { background: #DCFCE7; border-color: #22C55E; }
    .s3 { background: #FCE7F3; border-color: #EC4899; }
    .s4 { background: #E0F2FE; border-color: #38BDF8; }

    .helper {
      font-size: 0.85em;
      color: #374151;
      margin: 4px 0 8px 0;
    }
    .helper strong {
      display: block;
      margin-bottom: 1px;
    }

    .fb {
      background: #f8fafc;
      padding: 6px;
      margin-top: 4px;
      border-radius: 6px;
      border: 1px solid #e5e7eb;
      font-size: 0.85em;
    }
    .btns {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    button {
      padding: 6px 12px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
      font-family: inherit;
    }
    button.check { background: #2563eb; color: #ffffff; }
    button.read  { background: #7c3aed; color: #ffffff; }
    button.copy  { background: #22c55e; color: #ffffff; }
    button:disabled { opacity: 0.5; cursor: not-allowed; }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Narrative structure header -->
    <div class="coaster-wrapper">
      <div class="coaster-title">Narrative Writing Structure</div>
      <svg
        class="coaster-svg"
        viewBox="0 0 1000 260"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
      >
        <!-- Base grey track -->
        <path id="storyPath"
          d="M80 200 H360 L520 60 L680 200 H920"
          fill="none"
          stroke="#9ca3af"
          stroke-width="6"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <!-- Coloured segments -->
        <path d="M80 200 H360" fill="none" stroke="#facc15" stroke-width="6" stroke-linecap="round" />
        <path d="M360 200 L440 130" fill="none" stroke="#f97316" stroke-width="6" stroke-linecap="round" />
        <path d="M440 130 L520 60" fill="none" stroke="#b91c1c" stroke-width="6" stroke-linecap="round" />
        <path d="M520 60 L600 130" fill="none" stroke="#b91c1c" stroke-width="6" stroke-linecap="round" />
        <path d="M600 130 L680 200" fill="none" stroke="#22c55e" stroke-width="6" stroke-linecap="round" />
        <path d="M680 200 H920" fill="none" stroke="#3b82f6" stroke-width="6" stroke-linecap="round" />

        <!-- Animated "Character" marker -->
        <g id="charMarker">
          <circle cx="0" cy="0" r="16" fill="#a855f7" stroke="none" stroke-width="0" />
          <text x="0" y="4" text-anchor="middle" font-size="9" fill="#000000" font-weight="bold">
            Character
          </text>
          <animateMotion
            dur="9s"
            repeatCount="indefinite"
            rotate="auto"
            keySplines="0.42 0 0.58 1"
            keyTimes="0;1"
          >
            <mpath xlink:href="#storyPath" />
          </animateMotion>
        </g>

        <!-- Labels -->
        <text x="120" y="225" font-size="14" fill="#111827">Introduction:</text>
        <text x="245" y="225" font-size="14" fill="#111827">Character‚ÄìSettings</text>

        <text x="300" y="150" font-size="14" fill="#111827">Raising actions:</text>
        <text x="300" y="168" font-size="14" fill="#111827">Say the conflict</text>

        <text x="480" y="35" font-size="14" fill="#111827">Climax:</text>
        <text x="480" y="53" font-size="14" fill="#111827">The most exciting part</text>

        <text x="640" y="130" font-size="14" fill="#111827">Falling action:</text>
        <text x="640" y="148" font-size="14" fill="#111827">Solving the problem</text>

        <text x="720" y="225" font-size="14" fill="#111827">Resolution:</text>
        <text x="720" y="243" font-size="14" fill="#111827">Ending</text>
      </svg>
    </div>

    <div id="root"></div>
  </div>

  <script type="text/babel">
    // ---------- localStorage helpers (autosave) ----------
    function loadItem(key) {
      try {
        if (typeof window === "undefined" || !window.localStorage) return null;
        return window.localStorage.getItem(key);
      } catch (e) {
        return null;
      }
    }

    function saveItem(key, value) {
      try {
        if (typeof window === "undefined" || !window.localStorage) return;
        window.localStorage.setItem(key, value);
      } catch (e) {
        // ignore storage errors
      }
    }

    // ---------- SIMPLE TARGETED SPELLING CHECK ----------

    // Words we *know* are often misspelt in Year 4 writing
    const COMMON_MISSPELLINGS = {
      mistery: "mystery",
      mistry: "mystery",
      spasehip: "spaceship",
      spaseship: "spaceship",
      becuase: "because",
      becasue: "because",
      thier: "their",
      freind: "friend",
      frend: "friend",
      realy: "really",
      finaly: "finally",
      sudenly: "suddenly",
      suddently: "suddenly",
      everyting: "everything",
      evrything: "everything",
      somthing: "something",
      someting: "something",
      beleive: "believe",
      belive: "believe",
      charcter: "character",
      charecter: "character",
      speical: "special",
      definetly: "definitely",
      definitly: "definitely",
      alway: "always",
      allways: "always"
    };

    function normaliseWord(raw) {
      if (!raw) return "";
      return raw
        .replace(/^[^a-zA-Z']+/, "")
        .replace(/[^a-zA-Z']+$/, "")
        .toLowerCase();
    }

    function addSpellingFeedback(sentence, feedback) {
      const tokens = sentence.split(/\s+/);
      const seen = new Set();

      tokens.forEach(tok => {
        const core = normaliseWord(tok);
        if (!core) return;
        if (seen.has(core)) return;
        seen.add(core);

        const correction = COMMON_MISSPELLINGS[core];
        if (correction) {
          feedback.push(`‚ö†Ô∏è "${core}" is probably spelled "${correction}".`);
        }
      });
    }

    // ---------- BASE FEEDBACK (capital / punctuation / pattern + targeted spelling) ----------

    function grammarChecks(sentence, idx) {
      const feedback = [];
      const trimmed = sentence.trim();

      if (!trimmed) {
        feedback.push("‚ö†Ô∏è Sentence missing.");
        return feedback;
      }

      if (trimmed[0] !== trimmed[0].toUpperCase()) {
        feedback.push("‚ö†Ô∏è Sentence should start with a capital letter.");
      } else {
        feedback.push("‚úÖ Starts with a capital letter.");
      }

      if (!/[.?!]$/.test(trimmed)) {
        feedback.push("‚ö†Ô∏è Sentence should end with a full stop, question mark, or exclamation mark.");
      } else {
        feedback.push("‚úÖ Ends with correct punctuation.");
      }

      if (trimmed.split(" ").length < 6) {
        feedback.push("‚ö†Ô∏è Try to expand your sentence with more detail (at least 6‚Äì8 words).");
      }

      if (idx === 1 && !/\b(saw|heard|smelt|smelled|felt|tasted|could see|could hear)\b/i.test(trimmed)) {
        feedback.push("üí° Sentence 2 is often a sensory detail. Can you add what the character saw, heard, smelt, felt or tasted?");
      }
      if (idx === 2 && !/\b(ran|walked|crept|stepped|turned|looked|drifted|flickered|moved|shuffled|glanced|lurched|slammed|rattled)\b/i.test(trimmed)) {
        feedback.push("üí° Sentence 3 is often an action or background movement. Try including a strong verb.");
      }
      if (idx === 3 && !/\b(I thought|I wondered|I felt|I hoped|I feared|I knew|I realised|I realized|\"|\‚Äù)/i.test(trimmed)) {
        feedback.push("üí° Sentence 4 can show thoughts, feelings or dialogue. Can you show what the character says or thinks?");
      }

      // NEW: targeted spelling feedback for common mistakes only
      addSpellingFeedback(trimmed, feedback);

      return feedback;
    }

    const IntroHelper = () => {
      // Intro paragraph (autosave)
      const [introSentences, setIntroSentences] = React.useState(() => [
        loadItem("intro_s0") || "",
        loadItem("intro_s1") || "",
        loadItem("intro_s2") || "",
        loadItem("intro_s3") || ""
      ]);
      const [introFeedback, setIntroFeedback] = React.useState([[], [], [], []]);

      // Rising Action paragraph
      const [raSentences, setRaSentences] = React.useState(() => [
        loadItem("ra_s0") || "",
        loadItem("ra_s1") || "",
        loadItem("ra_s2") || "",
        loadItem("ra_s3") || ""
      ]);
      const [raFeedback, setRaFeedback] = React.useState([[], [], [], []]);

      // Climax paragraph
      const [climaxSentences, setClimaxSentences] = React.useState(() => [
        loadItem("climax_s0") || "",
        loadItem("climax_s1") || "",
        loadItem("climax_s2") || "",
        loadItem("climax_s3") || ""
      ]);
      const [climaxFeedback, setClimaxFeedback] = React.useState([[], [], [], []]);

      // Falling Action paragraph
      const [fallSentences, setFallSentences] = React.useState(() => [
        loadItem("fall_s0") || "",
        loadItem("fall_s1") || "",
        loadItem("fall_s2") || "",
        loadItem("fall_s3") || ""
      ]);
      const [fallFeedback, setFallFeedback] = React.useState([[], [], [], []]);

      // Resolution paragraph
      const [resSentences, setResSentences] = React.useState(() => [
        loadItem("res_s0") || "",
        loadItem("res_s1") || "",
        loadItem("res_s2") || "",
        loadItem("res_s3") || ""
      ]);
      const [resFeedback, setResFeedback] = React.useState([[], [], [], []]);

      const updateIntroSentence = (index, value) => {
        setIntroSentences(prev => {
          const copy = [...prev];
          copy[index] = value;
          return copy;
        });
        saveItem("intro_s" + index, value);
      };

      const updateRaSentence = (index, value) => {
        setRaSentences(prev => {
          const copy = [...prev];
          copy[index] = value;
          return copy;
        });
        saveItem("ra_s" + index, value);
      };

      const updateClimaxSentence = (index, value) => {
        setClimaxSentences(prev => {
          const copy = [...prev];
          copy[index] = value;
          return copy;
        });
        saveItem("climax_s" + index, value);
      };

      const updateFallSentence = (index, value) => {
        setFallSentences(prev => {
          const copy = [...prev];
          copy[index] = value;
          return copy;
        });
        saveItem("fall_s" + index, value);
      };

      const updateResSentence = (index, value) => {
        setResSentences(prev => {
          const copy = [...prev];
          copy[index] = value;
          return copy;
        });
        saveItem("res_s" + index, value);
      };

      const checkIntro = () => {
        setIntroFeedback(introSentences.map((s, idx) => grammarChecks(s, idx)));
      };

      const checkRa = () => {
        setRaFeedback(raSentences.map((s, idx) => grammarChecks(s, idx)));
      };

      const checkClimax = () => {
        setClimaxFeedback(climaxSentences.map((s, idx) => grammarChecks(s, idx)));
      };

      const checkFall = () => {
        setFallFeedback(fallSentences.map((s, idx) => grammarChecks(s, idx)));
      };

      const checkRes = () => {
        setResFeedback(resSentences.map((s, idx) => grammarChecks(s, idx)));
      };

      const makeReadAloud = sentences => {
        const text = sentences.join(" ").trim();
        if (!text) {
          alert("Please write your sentences first so there is something to read aloud.");
          return;
        }
        if (!window.speechSynthesis) {
          alert("Sorry, your browser does not support reading aloud.");
          return;
        }
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.rate = 0.95;
        window.speechSynthesis.speak(utterance);
      };

      const readAloudIntro = () => makeReadAloud(introSentences);
      const readAloudRa = () => makeReadAloud(raSentences);
      const readAloudClimax = () => makeReadAloud(climaxSentences);
      const readAloudFall = () => makeReadAloud(fallSentences);
      const readAloudRes = () => makeReadAloud(resSentences);

      const makeCopy = async sentences => {
        const text = sentences.join(" ").trim();
        if (!text) {
          alert("There is no text to copy yet.");
          return;
        }
        try {
          await navigator.clipboard.writeText(text);
          alert("Paragraph copied to clipboard!");
        } catch (e) {
          alert("Could not copy to clipboard, but here is your paragraph:\n\n" + text);
        }
      };

      const copyIntro = () => makeCopy(introSentences);
      const copyRa = () => makeCopy(raSentences);
      const copyClimax = () => makeCopy(climaxSentences);
      const copyFall = () => makeCopy(fallSentences);
      const copyRes = () => makeCopy(resSentences);

      // Planner state (autosave)
      const [planner, setPlanner] = React.useState(() => ({
        introWho: loadItem("planner_introWho") || "",
        introWhere: loadItem("planner_introWhere") || "",
        introWhen: loadItem("planner_introWhen") || "",
        risingProblem: loadItem("planner_risingProblem") || "",
        risingClues: loadItem("planner_risingClues") || "",
        risingReact: loadItem("planner_risingReact") || "",
        climaxMoment: loadItem("planner_climaxMoment") || "",
        climaxAction: loadItem("planner_climaxAction") || "",
        climaxFeel: loadItem("planner_climaxFeel") || "",
        fallingCalm: loadItem("planner_fallingCalm") || "",
        fallingChange: loadItem("planner_fallingChange") || "",
        endLearn: loadItem("planner_endLearn") || "",
        endFeel: loadItem("planner_endFeel") || ""
      }));

      const handlePlannerChange = (field, value) => {
        setPlanner(prev => ({ ...prev, [field]: value }));
        saveItem("planner_" + field, value);
      };

      // Shared word bank text
      const verbBank = "pondered, contemplated, whispered, shouted, exclaimed, hurried, dashed, stomped, glimpsed, witnessed";
      const adjBank = "anxious, curious, determined, cautious, frantic, gloomy, dazzling, eerie, mysterious, thunderous";

      return (
        <div>
          {/* NARRATIVE ORGANISER */}
          <div className="planner">
            <h3>Narrative Organiser</h3>
            <p className="info">
              Use these boxes to plan your narrative. Answer each question using dot points or short sentences.
            </p>
            <div className="plot-line">
              {/* Box 1 ‚Äì Introduction */}
              <div className="plot-step">
                <div className="plot-step-title">Box 1 ‚Äì Introduction</div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    Who are the main character/s and what is their personality?
                    For example: forgetful, grumpy, hilarious, brave, shy, sneaky, cautious, bossy, nervous, daydreamy.
                  </div>
                  <textarea
                    value={planner.introWho}
                    onChange={e => handlePlannerChange("introWho", e.target.value)}
                  />
                </div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    Where does the story begin?
                  </div>
                  <textarea
                    value={planner.introWhere}
                    onChange={e => handlePlannerChange("introWhere", e.target.value)}
                  />
                </div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    When does the story happen?
                  </div>
                  <textarea
                    value={planner.introWhen}
                    onChange={e => handlePlannerChange("introWhen", e.target.value)}
                  />
                </div>
              </div>

              {/* Box 2 ‚Äì Conflict & Rising Action */}
              <div className="plot-step">
                <div className="plot-step-title">Box 2 ‚Äì Conflict & Rising Action</div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    What problem or mystery appears?
                  </div>
                  <textarea
                    value={planner.risingProblem}
                    onChange={e => handlePlannerChange("risingProblem", e.target.value)}
                  />
                </div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    What small changes or clues build tension?
                  </div>
                  <textarea
                    value={planner.risingClues}
                    onChange={e => handlePlannerChange("risingClues", e.target.value)}
                  />
                </div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    How does the character react?
                  </div>
                  <textarea
                    value={planner.risingReact}
                    onChange={e => handlePlannerChange("risingReact", e.target.value)}
                  />
                </div>
              </div>

              {/* Box 3 ‚Äì Climax */}
              <div className="plot-step">
                <div className="plot-step-title">Box 3 ‚Äì Climax</div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    What is the most exciting or intense moment?
                  </div>
                  <textarea
                    value={planner.climaxMoment}
                    onChange={e => handlePlannerChange("climaxMoment", e.target.value)}
                  />
                </div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    What important action happens?
                  </div>
                  <textarea
                    value={planner.climaxAction}
                    onChange={e => handlePlannerChange("climaxAction", e.target.value)}
                  />
                </div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    What does the character think or feel?
                  </div>
                  <textarea
                    value={planner.climaxFeel}
                    onChange={e => handlePlannerChange("climaxFeel", e.target.value)}
                  />
                </div>
              </div>

              {/* Box 4 ‚Äì Falling Action */}
              <div className="plot-step">
                <div className="plot-step-title">Box 4 ‚Äì Falling Action / Problem Solved</div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    What starts to calm down or change?
                  </div>
                  <textarea
                    value={planner.fallingCalm}
                    onChange={e => handlePlannerChange("fallingCalm", e.target.value)}
                  />
                </div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    How is the problem beginning to be fixed?
                  </div>
                  <textarea
                    value={planner.fallingChange}
                    onChange={e => handlePlannerChange("fallingChange", e.target.value)}
                  />
                </div>
              </div>

              {/* Box 5 ‚Äì Resolution */}
              <div className="plot-step">
                <div className="plot-step-title">Box 5 ‚Äì Resolution / Ending</div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    What does the character learn or realise?
                  </div>
                  <textarea
                    value={planner.endLearn}
                    onChange={e => handlePlannerChange("endLearn", e.target.value)}
                  />
                </div>

                <div className="plot-subquestion">
                  <div className="plot-question-text">
                    How does the character feel at the end?
                  </div>
                  <textarea
                    value={planner.endFeel}
                    onChange={e => handlePlannerChange("endFeel", e.target.value)}
                  />
                </div>
              </div>
            </div>
          </div>

          {/* INTRODUCTION PARAGRAPH HELPER */}
          <div className="card card-intro">
            <h3>Introduction Paragraph ‚Äì Orientation, Setting, Character</h3>
            <p className="subtitle">
              Use four sentences to introduce your character and the setting, and to give a hint that something is not quite right.
            </p>
            <p className="subtitle">
              <strong>Word bank ‚Äì upgraded verbs:</strong> {verbBank}<br />
              <strong>Word bank ‚Äì upgraded adjectives:</strong> {adjBank}
            </p>

            <div className="intro-layout">
              {/* Column 1 ‚Äì description */}
              <div>
                <h4>Sentence Purposes</h4>
                <div className="sentence-strip">
                  <div className="sentence-tile tile-s1">
                    Sentence 1: Hook the reader (dialogue or action) and show the main character.
                  </div>
                  <div className="sentence-tile tile-s2">
                    Sentence 2: Add a sensory detail (what can be seen, heard, smelt, felt or tasted).
                  </div>
                  <div className="sentence-tile tile-s3">
                    Sentence 3: Show what is happening or changing in the setting ‚Äì include a simile.
                  </div>
                  <div className="sentence-tile tile-s4">
                    Sentence 4: Show the character‚Äôs feelings or thoughts about this moment using dialogue.
                  </div>
                </div>
              </div>

              {/* Column 2 ‚Äì HAGPLL intro */}
              <div>
                <h4>How A Good Paragraph Looks Like (HAGPLL)</h4>
                <div className="hagpll-box">
                  <div className="hagpll-text">
                    <span className="hagpll-s1">
                      ‚ÄúWhat is this red light flashing on my panel?‚Äù Zarnok pondered with a worried look on his face.
                    </span>{" "}
                    <span className="hagpll-s2">
                      Zarnok sensed that something was wrong with his spaceship, and he knew there was a blue planet nearby where he might need to make an emergency landing.
                    </span>{" "}
                    <span className="hagpll-s3">
                      Zarnok‚Äôs furry skin started to change to a greyish colour and his three glowing eyes blinked like lights flickering in the dark.
                    </span>{" "}
                    <span className="hagpll-s4">
                      ‚ÄúStay calm, Zarnok‚Ä¶ this is just a tiny problem,‚Äù he whispered, even though the smell of smoke was getting stronger.
                    </span>
                  </div>
                </div>
              </div>

              {/* Column 3 ‚Äì Your turn intro */}
              <div className="intro-right">
                <h4>Your Turn ‚Äì Write Your Introduction</h4>

                <label>Sentence 1 ‚Äì Hook + Character</label>
                <div className="helper">
                  <strong>Ideas:</strong> Use dialogue or a short action. Name your character and hint at where they are.
                  <strong>Sentence starters:</strong> ‚ÄúWhat is that‚Ä¶?‚Äù, ‚ÄúI can‚Äôt believe‚Ä¶‚Äù, ‚ÄúWhy is‚Ä¶?‚Äù, ‚ÄúWait a second‚Ä¶‚Äù
                  <strong>Upgraded verbs:</strong> {verbBank}
                </div>
                <textarea
                  className="s1"
                  spellCheck="true"
                  value={introSentences[0]}
                  onChange={e => updateIntroSentence(0, e.target.value)}
                />
                <div className="fb">
                  {introFeedback[0].length === 0
                    ? <em>No feedback yet.</em>
                    : introFeedback[0].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 2 ‚Äì Sensory Detail</label>
                <div className="helper">
                  <strong>Ideas:</strong> Describe what the character can see, hear, smell or feel.
                  <strong>Adjectives:</strong> {adjBank}
                  <strong>Figurative language:</strong> You can still use a simile here if it fits naturally.
                </div>
                <textarea
                  className="s2"
                  spellCheck="true"
                  value={introSentences[1]}
                  onChange={e => updateIntroSentence(1, e.target.value)}
                />
                <div className="fb">
                  {introFeedback[1].length === 0
                    ? <em>No feedback yet.</em>
                    : introFeedback[1].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 3 ‚Äì Background Action / Setting Change (Simile)</label>
                <div className="helper">
                  <strong>Ideas:</strong> Show movement or change in the scene (lights, people, sounds, objects).
                  <strong>Upgraded verbs:</strong> {verbBank}
                  <strong>Figurative language (simile):</strong> Compare something using ‚Äúlike‚Ä¶‚Äù or ‚Äúas‚Ä¶as‚Ä¶‚Äù, for example
                  ‚ÄúThe corridor was as quiet as a sleeping cat‚Äù or ‚ÄúLights flickered like tiny stars.‚Äù
                </div>
                <textarea
                  className="s3"
                  spellCheck="true"
                  value={introSentences[2]}
                  onChange={e => updateIntroSentence(2, e.target.value)}
                />
                <div className="fb">
                  {introFeedback[2].length === 0
                    ? <em>No feedback yet.</em>
                    : introFeedback[2].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 4 ‚Äì Thought / Feeling with Dialogue</label>
                <div className="helper">
                  <strong>Ideas:</strong> Show what the character is thinking or feeling and include dialogue with speech marks.
                  <strong>Sentence starters:</strong> ‚ÄúI knew that‚Ä¶‚Äù, ‚ÄúI tried not to panic but‚Ä¶‚Äù, ‚ÄúI whispered, ‚Äò‚Ä¶‚Äô‚Äù.
                  <strong>Remember:</strong> Use quotation marks (‚Äú ‚Äù) around what the character says.
                </div>
                <textarea
                  className="s4"
                  spellCheck="true"
                  value={introSentences[3]}
                  onChange={e => updateIntroSentence(3, e.target.value)}
                />
                <div className="fb">
                  {introFeedback[3].length === 0
                    ? <em>No feedback yet.</em>
                    : introFeedback[3].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <div className="btns">
                  <button className="check" type="button" onClick={checkIntro}>
                    Check spelling, punctuation, and capitalisation
                  </button>
                  <button className="read" type="button" onClick={readAloudIntro}>
                    Read aloud
                  </button>
                  <button className="copy" type="button" onClick={copyIntro}>
                    Copy paragraph
                  </button>
                </div>
              </div>
            </div>
          </div>

          {/* RAISING ACTIONS PARAGRAPH HELPER */}
          <div className="card card-raising">
            <h3>Raising Actions ‚Äì Saying the Conflict and Building Tension</h3>
            <p className="subtitle">
              Use four sentences to show the problem, how it gets worse, and how your character reacts.
            </p>
            <p className="subtitle">
              <strong>Word bank ‚Äì upgraded verbs:</strong> {verbBank}<br />
              <strong>Word bank ‚Äì upgraded adjectives:</strong> {adjBank}
            </p>

            <div className="intro-layout">
              {/* Column 1 ‚Äì sentence descriptions */}
              <div>
                <h4>Sentence Purposes</h4>
                <div className="sentence-strip">
                  <div className="sentence-tile tile-s1">
                    Sentence 1: Clearly show the problem or conflict appearing.
                  </div>
                  <div className="sentence-tile tile-s2">
                    Sentence 2: Add a sensory detail that makes the problem feel real (you can use figurative language here).
                  </div>
                  <div className="sentence-tile tile-s3">
                    Sentence 3: Show an action or event that makes the tension rise.
                  </div>
                  <div className="sentence-tile tile-s4">
                    Sentence 4: Show the character‚Äôs thoughts or feelings about the growing problem.
                  </div>
                </div>
              </div>

              {/* Column 2 ‚Äì HAGPLL Raising Action */}
              <div>
                <h4>How A Good Paragraph Looks Like (HAGPLL)</h4>
                <div className="hagpll-box">
                  <div className="hagpll-text">
                    <span className="hagpll-s1">
                      Without warning, alarms screeched through Zarnok‚Äôs pod and a crack opened in the metal wall beside him.
                    </span>{" "}
                    <span className="hagpll-s2">
                      Hot smoke hissed out of the crack and curled around his control panel like a dark, choking fog.
                    </span>{" "}
                    <span className="hagpll-s3">
                      The spaceship lurched sideways, loose wires swung above his head, and glowing buttons flashed faster and faster.
                    </span>{" "}
                    <span className="hagpll-s4">
                      ‚ÄúIf I don‚Äôt fix this now, I‚Äôll never reach that planet,‚Äù Zarnok exclaimed, his three hearts pounding like drums inside his chest.
                    </span>
                  </div>
                </div>
              </div>

              {/* Column 3 ‚Äì Your turn Raising Action */}
              <div className="intro-right">
                <h4>Your Turn ‚Äì Write Your Raising Actions Paragraph</h4>

                <label>Sentence 1 ‚Äì Show the Problem / Conflict</label>
                <div className="helper">
                  <strong>Ideas:</strong> Something goes wrong or changes. A problem appears.
                  <strong>Sentence starters:</strong> Suddenly‚Ä¶, Without warning‚Ä¶, Out of nowhere‚Ä¶, In an instant‚Ä¶
                  <strong>Upgraded verbs:</strong> {verbBank}
                </div>
                <textarea
                  className="s1"
                  spellCheck="true"
                  value={raSentences[0]}
                  onChange={e => updateRaSentence(0, e.target.value)}
                />
                <div className="fb">
                  {raFeedback[0].length === 0
                    ? <em>No feedback yet.</em>
                    : raFeedback[0].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 2 ‚Äì Sensory Detail About the Problem (Figurative Language)</label>
                <div className="helper">
                  <strong>Ideas:</strong> Describe what the character can see, hear, smell, feel or taste as the problem happens.
                  <strong>Adjectives:</strong> {adjBank}
                  <strong>Figurative language:</strong> Try a simile or metaphor, for example ‚ÄúThe noise was like thunder in my ears‚Äù or ‚ÄúSmoke wrapped around me like a blanket.‚Äù
                </div>
                <textarea
                  className="s2"
                  spellCheck="true"
                  value={raSentences[1]}
                  onChange={e => updateRaSentence(1, e.target.value)}
                />
                <div className="fb">
                  {raFeedback[1].length === 0
                    ? <em>No feedback yet.</em>
                    : raFeedback[1].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 3 ‚Äì Action That Raises Tension</label>
                <div className="helper">
                  <strong>Ideas:</strong> Show what moves, breaks, appears, or changes next.
                  <strong>Upgraded verbs:</strong> {verbBank}
                  <strong>Techniques:</strong> Short, sharp phrases can make the scene feel faster.
                </div>
                <textarea
                  className="s3"
                  spellCheck="true"
                  value={raSentences[2]}
                  onChange={e => updateRaSentence(2, e.target.value)}
                />
                <div className="fb">
                  {raFeedback[2].length === 0
                    ? <em>No feedback yet.</em>
                    : raFeedback[2].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 4 ‚Äì Character‚Äôs Thoughts or Feelings</label>
                <div className="helper">
                  <strong>Ideas:</strong> Show what the character is thinking or feeling about this problem now (you can use dialogue too).
                  <strong>Sentence starters:</strong> ‚ÄúI knew that‚Ä¶‚Äù, ‚ÄúI tried not to panic but‚Ä¶‚Äù, ‚ÄúI shouted, ‚Äò‚Ä¶‚Äô‚Äù.
                  <strong>Emotion words:</strong> anxious, desperate, determined, shocked, furious, confused.
                </div>
                <textarea
                  className="s4"
                  spellCheck="true"
                  value={raSentences[3]}
                  onChange={e => updateRaSentence(3, e.target.value)}
                />
                <div className="fb">
                  {raFeedback[3].length === 0
                    ? <em>No feedback yet.</em>
                    : raFeedback[3].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <div className="btns">
                  <button className="check" type="button" onClick={checkRa}>
                    Check spelling, punctuation, and capitalisation
                  </button>
                  <button className="read" type="button" onClick={readAloudRa}>
                    Read aloud
                  </button>
                  <button className="copy" type="button" onClick={copyRa}>
                    Copy paragraph
                  </button>
                </div>
              </div>
            </div>
          </div>

          {/* CLIMAX PARAGRAPH HELPER */}
          <div className="card card-climax">
            <h3>Climax ‚Äì The Most Exciting Part</h3>
            <p className="subtitle">
              Use four sentences to zoom in on the most exciting moment, using powerful verbs and figurative language.
            </p>
            <p className="subtitle">
              <strong>Word bank ‚Äì upgraded verbs:</strong> {verbBank}<br />
              <strong>Word bank ‚Äì upgraded adjectives:</strong> {adjBank}
            </p>

            <div className="intro-layout">
              {/* Column 1 ‚Äì sentence descriptions */}
              <div>
                <h4>Sentence Purposes</h4>
                <div className="sentence-strip">
                  <div className="sentence-tile tile-s1">
                    Sentence 1: Zoom in on the most intense moment of the problem.
                  </div>
                  <div className="sentence-tile tile-s2">
                    Sentence 2: Use strong sensory detail and figurative language (metaphor or personification).
                  </div>
                  <div className="sentence-tile tile-s3">
                    Sentence 3: Show the big action or decision that changes everything.
                  </div>
                  <div className="sentence-tile tile-s4">
                    Sentence 4: Show the strongest thoughts or feelings of the character.
                  </div>
                </div>
              </div>

              {/* Column 2 ‚Äì HAGPLL Climax */}
              <div>
                <h4>How A Good Paragraph Looks Like (HAGPLL)</h4>
                <div className="hagpll-box">
                  <div className="hagpll-text">
                    <span className="hagpll-s1">
                      As the main engine exploded in a shower of sparks, Zarnok‚Äôs pod swung dangerously close to the blue planet below.
                    </span>{" "}
                    <span className="hagpll-s2">
                      The controls rattled in his hands and the whole spaceship roared like a wild beast that had finally broken free.
                    </span>{" "}
                    <span className="hagpll-s3">
                      Gritting his teeth, Zarnok slammed his three-fingered hand onto the emergency landing button and yanked the steering lever hard to the left.
                    </span>{" "}
                    <span className="hagpll-s4">
                      ‚ÄúThis is it‚Ä¶ if this doesn‚Äôt work, I‚Äôm space dust,‚Äù he thought, every part of him trembling with a mix of terror and determination.
                    </span>
                  </div>
                </div>
              </div>

              {/* Column 3 ‚Äì Your turn Climax */}
              <div className="intro-right">
                <h4>Your Turn ‚Äì Write Your Climax Paragraph</h4>

                <label>Sentence 1 ‚Äì Focus on the Most Intense Moment</label>
                <div className="helper">
                  <strong>Ideas:</strong> Describe the exact second when the problem is at its worst.
                  <strong>Sentence starters:</strong> At that moment‚Ä¶, In a split second‚Ä¶, As the noise grew‚Ä¶, Just as I thought it was over‚Ä¶
                  <strong>Upgraded adjectives:</strong> {adjBank}
                </div>
                <textarea
                  className="s1"
                  spellCheck="true"
                  value={climaxSentences[0]}
                  onChange={e => updateClimaxSentence(0, e.target.value)}
                />
                <div className="fb">
                  {climaxFeedback[0].length === 0
                    ? <em>No feedback yet.</em>
                    : climaxFeedback[0].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 2 ‚Äì Sensory Detail + Figurative Language</label>
                <div className="helper">
                  <strong>Ideas:</strong> Show what the character can see, hear, feel or smell.
                  <strong>Figurative language:</strong> Use a metaphor or personification, e.g. ‚ÄúThe wind clawed at my face‚Äù, ‚ÄúFear wrapped around me like a heavy coat.‚Äù
                  <strong>Upgraded verbs:</strong> {verbBank}
                </div>
                <textarea
                  className="s2"
                  spellCheck="true"
                  value={climaxSentences[1]}
                  onChange={e => updateClimaxSentence(1, e.target.value)}
                />
                <div className="fb">
                  {climaxFeedback[1].length === 0
                    ? <em>No feedback yet.</em>
                    : climaxFeedback[1].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 3 ‚Äì Big Action or Decision</label>
                <div className="helper">
                  <strong>Ideas:</strong> Show what the character does to face the problem.
                  <strong>Upgraded verbs:</strong> {verbBank}
                  <strong>Tip:</strong> Keep the action clear so the reader knows exactly what happened.
                </div>
                <textarea
                  className="s3"
                  spellCheck="true"
                  value={climaxSentences[2]}
                  onChange={e => updateClimaxSentence(2, e.target.value)}
                />
                <div className="fb">
                  {climaxFeedback[2].length === 0
                    ? <em>No feedback yet.</em>
                    : climaxFeedback[2].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 4 ‚Äì Strong Thoughts or Feelings</label>
                <div className="helper">
                  <strong>Ideas:</strong> Show what the character thinks or feels in this big moment. You can use dialogue.
                  <strong>Sentence starters:</strong> ‚ÄúI knew this was‚Ä¶‚Äù, ‚ÄúI couldn‚Äôt stop thinking‚Ä¶‚Äù, ‚ÄúI shouted, ‚Äò‚Ä¶‚Äô‚Äù.
                  <strong>Emotion words:</strong> terrified, determined, shocked, furious, hopeful.
                </div>
                <textarea
                  className="s4"
                  spellCheck="true"
                  value={climaxSentences[3]}
                  onChange={e => updateClimaxSentence(3, e.target.value)}
                />
                <div className="fb">
                  {climaxFeedback[3].length === 0
                    ? <em>No feedback yet.</em>
                    : climaxFeedback[3].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <div className="btns">
                  <button className="check" type="button" onClick={checkClimax}>
                    Check spelling, punctuation, and capitalisation
                  </button>
                  <button className="read" type="button" onClick={readAloudClimax}>
                    Read aloud
                  </button>
                  <button className="copy" type="button" onClick={copyClimax}>
                    Copy paragraph
                  </button>
                </div>
              </div>
            </div>
          </div>

          {/* FALLING ACTION PARAGRAPH HELPER */}
          <div className="card card-falling">
            <h3>Falling Action ‚Äì Solving the Problem</h3>
            <p className="subtitle">
              Use four sentences to show how things start to calm down and how the problem is being solved.
            </p>
            <p className="subtitle">
              <strong>Word bank ‚Äì upgraded verbs:</strong> {verbBank}<br />
              <strong>Word bank ‚Äì upgraded adjectives:</strong> {adjBank}
            </p>

            <div className="intro-layout">
              {/* Column 1 ‚Äì sentence descriptions */}
              <div>
                <h4>Sentence Purposes</h4>
                <div className="sentence-strip">
                  <div className="sentence-tile tile-s1">
                    Sentence 1: Show what changes straight after the climax.
                  </div>
                  <div className="sentence-tile tile-s2">
                    Sentence 2: Show actions that help fix the problem.
                  </div>
                  <div className="sentence-tile tile-s3">
                    Sentence 3: Use figurative language to show the world becoming calmer.
                  </div>
                  <div className="sentence-tile tile-s4">
                    Sentence 4: Show how the character is starting to feel different.
                  </div>
                </div>
              </div>

              {/* Column 2 ‚Äì HAGPLL Falling Action */}
              <div>
                <h4>How A Good Paragraph Looks Like (HAGPLL)</h4>
                <div className="hagpll-box">
                  <div className="hagpll-text">
                    <span className="hagpll-s1">
                      The pod steadied and the roar of the engines faded into a low, tired hum.
                    </span>{" "}
                    <span className="hagpll-s2">
                      Zarnok quickly sealed the crack with a metal patch and tapped a row of glowing buttons to cool the overheating wires.
                    </span>{" "}
                    <span className="hagpll-s3">
                      Outside the window, the fiery clouds slowly drifted apart like curtains being pulled back from a quiet stage.
                    </span>{" "}
                    <span className="hagpll-s4">
                      For the first time in what felt like hours, Zarnok could breathe without his hearts racing, and a tiny spark of hope flickered inside him.
                    </span>
                  </div>
                </div>
              </div>

              {/* Column 3 ‚Äì Your turn Falling Action */}
              <div className="intro-right">
                <h4>Your Turn ‚Äì Write Your Falling Action Paragraph</h4>

                <label>Sentence 1 ‚Äì Change After the Climax</label>
                <div className="helper">
                  <strong>Ideas:</strong> Show what is different now that the big moment has passed.
                  <strong>Sentence starters:</strong> Slowly‚Ä¶, After that‚Ä¶, As the noise faded‚Ä¶, When the dust settled‚Ä¶
                  <strong>Adjectives:</strong> {adjBank}
                </div>
                <textarea
                  className="s1"
                  spellCheck="true"
                  value={fallSentences[0]}
                  onChange={e => updateFallSentence(0, e.target.value)}
                />
                <div className="fb">
                  {fallFeedback[0].length === 0
                    ? <em>No feedback yet.</em>
                    : fallFeedback[0].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 2 ‚Äì Actions That Help Fix the Problem</label>
                <div className="helper">
                  <strong>Ideas:</strong> Show what the character does to repair, clean up, or make things right.
                  <strong>Upgraded verbs:</strong> {verbBank}
                </div>
                <textarea
                  className="s2"
                  spellCheck="true"
                  value={fallSentences[1]}
                  onChange={e => updateFallSentence(1, e.target.value)}
                />
                <div className="fb">
                  {fallFeedback[1].length === 0
                    ? <em>No feedback yet.</em>
                    : fallFeedback[1].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 3 ‚Äì Figurative Language to Show Calm</label>
                <div className="helper">
                  <strong>Ideas:</strong> Use simile or personification to show the world calming down.
                  <strong>Examples:</strong> ‚ÄúThe corridor felt as peaceful as a sleeping cat‚Äù, ‚ÄúThe wind whispered softly through the trees.‚Äù
                </div>
                <textarea
                  className="s3"
                  spellCheck="true"
                  value={fallSentences[2]}
                  onChange={e => updateFallSentence(2, e.target.value)}
                />
                <div className="fb">
                  {fallFeedback[2].length === 0
                    ? <em>No feedback yet.</em>
                    : fallFeedback[2].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 4 ‚Äì Character‚Äôs New Feelings</label>
                <div className="helper">
                  <strong>Ideas:</strong> Show how the character feels now that things are improving.
                  <strong>Sentence starters:</strong> I finally felt‚Ä¶, A wave of relief‚Ä¶, I couldn‚Äôt stop smiling because‚Ä¶
                  <strong>Emotion words:</strong> relieved, calm, proud, thankful, exhausted.
                </div>
                <textarea
                  className="s4"
                  spellCheck="true"
                  value={fallSentences[3]}
                  onChange={e => updateFallSentence(3, e.target.value)}
                />
                <div className="fb">
                  {fallFeedback[3].length === 0
                    ? <em>No feedback yet.</em>
                    : fallFeedback[3].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <div className="btns">
                  <button className="check" type="button" onClick={checkFall}>
                    Check spelling, punctuation, and capitalisation
                  </button>
                  <button className="read" type="button" onClick={readAloudFall}>
                    Read aloud
                  </button>
                  <button className="copy" type="button" onClick={copyFall}>
                    Copy paragraph
                  </button>
                </div>
              </div>
            </div>
          </div>

          {/* RESOLUTION PARAGRAPH HELPER */}
          <div className="card card-resolution">
            <h3>Resolution ‚Äì Ending and Lesson Learned</h3>
            <p className="subtitle">
              Use four sentences to show the final result, the lesson, and how your character feels at the end.
            </p>
            <p className="subtitle">
              <strong>Word bank ‚Äì upgraded verbs:</strong> {verbBank}<br />
              <strong>Word bank ‚Äì upgraded adjectives:</strong> {adjBank}
            </p>

            <div className="intro-layout">
              {/* Column 1 ‚Äì sentence descriptions */}
              <div>
                <h4>Sentence Purposes</h4>
                <div className="sentence-strip">
                  <div className="sentence-tile tile-s1">
                    Sentence 1: Show how life looks now after the problem is solved.
                  </div>
                  <div className="sentence-tile tile-s2">
                    Sentence 2: Explain what the character has learnt or realised (you can use figurative language).
                  </div>
                  <div className="sentence-tile tile-s3">
                    Sentence 3: Show how the character feels about the whole experience.
                  </div>
                  <div className="sentence-tile tile-s4">
                    Sentence 4: Give a closing sentence that links back or leaves the reader thinking.
                  </div>
                </div>
              </div>

              {/* Column 2 ‚Äì HAGPLL Resolution */}
              <div>
                <h4>How A Good Paragraph Looks Like (HAGPLL)</h4>
                <div className="hagpll-box">
                  <div className="hagpll-text">
                    <span className="hagpll-s1">
                      By the time Zarnok‚Äôs pod finally landed with a gentle thump on the soft blue planet, the warning lights had faded to a calm, steady glow.
                    </span>{" "}
                    <span className="hagpll-s2">
                      He realised that facing danger was like stepping into a dark tunnel ‚Äì frightening at first, but full of new paths once you kept walking.
                    </span>{" "}
                    <span className="hagpll-s3">
                      A warm, curious feeling spread through him as he looked at the strange new world waiting outside his pod.
                    </span>{" "}
                    <span className="hagpll-s4">
                      With one deep breath, Zarnok opened the door and stepped forward, ready for whatever adventure came next.
                    </span>
                  </div>
                </div>
              </div>

              {/* Column 3 ‚Äì Your turn Resolution */}
              <div className="intro-right">
                <h4>Your Turn ‚Äì Write Your Resolution Paragraph</h4>

                <label>Sentence 1 ‚Äì Life After the Problem</label>
                <div className="helper">
                  <strong>Ideas:</strong> Show what things look like now the problem is solved.
                  <strong>Sentence starters:</strong> In the end‚Ä¶, Later that day‚Ä¶, From that day on‚Ä¶
                </div>
                <textarea
                  className="s1"
                  spellCheck="true"
                  value={resSentences[0]}
                  onChange={e => updateResSentence(0, e.target.value)}
                />
                <div className="fb">
                  {resFeedback[0].length === 0
                    ? <em>No feedback yet.</em>
                    : resFeedback[0].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 2 ‚Äì Lesson or Realisation (Figurative Language)</label>
                <div className="helper">
                  <strong>Ideas:</strong> Explain what the character learnt or now understands.
                  <strong>Figurative language:</strong> Use a simile or metaphor to explain the lesson, e.g. ‚ÄúSolving problems was like‚Ä¶‚Äù.
                </div>
                <textarea
                  className="s2"
                  spellCheck="true"
                  value={resSentences[1]}
                  onChange={e => updateResSentence(1, e.target.value)}
                />
                <div className="fb">
                  {resFeedback[1].length === 0
                    ? <em>No feedback yet.</em>
                    : resFeedback[1].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 3 ‚Äì Feelings at the End</label>
                <div className="helper">
                  <strong>Ideas:</strong> Show how the character feels now ‚Äì inside their mind and body.
                  <strong>Emotion words:</strong> relieved, proud, peaceful, excited, curious.
                </div>
                <textarea
                  className="s3"
                  spellCheck="true"
                  value={resSentences[2]}
                  onChange={e => updateResSentence(2, e.target.value)}
                />
                <div className="fb">
                  {resFeedback[2].length === 0
                    ? <em>No feedback yet.</em>
                    : resFeedback[2].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <label>Sentence 4 ‚Äì Closing Sentence</label>
                <div className="helper">
                  <strong>Ideas:</strong> Link back to the beginning or leave the reader with a final thought.
                  <strong>Sentence starters:</strong> From that moment on‚Ä¶, Little did I know‚Ä¶, That was the day when‚Ä¶
                </div>
                <textarea
                  className="s4"
                  spellCheck="true"
                  value={resSentences[3]}
                  onChange={e => updateResSentence(3, e.target.value)}
                />
                <div className="fb">
                  {resFeedback[3].length === 0
                    ? <em>No feedback yet.</em>
                    : resFeedback[3].map((f, i) => <div key={i}>{f}</div>)}
                </div>

                <div className="btns">
                  <button className="check" type="button" onClick={checkRes}>
                    Check spelling, punctuation, and capitalisation
                  </button>
                  <button className="read" type="button" onClick={readAloudRes}>
                    Read aloud
                  </button>
                  <button className="copy" type="button" onClick={copyRes}>
                    Copy paragraph
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<IntroHelper />);
  </script>
</body>
</html>
